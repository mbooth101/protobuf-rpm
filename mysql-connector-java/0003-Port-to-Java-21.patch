From ec05e3d1dc3d8bc12440a263931ae99cebe651be Mon Sep 17 00:00:00 2001
From: rpm-build <rpm-build>
Date: Fri, 24 Jan 2025 10:09:16 +0100
Subject: [PATCH 3/5] Port to Java 21

---
 build.xml | 11 +----------
 1 file changed, 1 insertion(+), 10 deletions(-)

diff --git a/build.xml b/build.xml
index 953ab0d..cc15ff4 100644
--- a/build.xml
+++ b/build.xml
@@ -351,16 +351,6 @@ See also com.mysql.cj.conf.PropertyDefinitions.SYSP_* variables for other test o
             <arg value="-version" />
         </exec>
 
-        <fail message="Java 8 is required for compiling the source code. Set the path to the JDK home with the property 'com.mysql.cj.build.jdk'. Default: '/usr/lib/jvm/jdk1.8').">
-            <condition>
-                <not>
-                    <and>
-                        <equals arg1="${com.mysql.cj.build.jdk.exitStatus}" arg2="0" />
-                        <contains string="${com.mysql.cj.build.jdk.version}" substring="version &quot;1.8" casesensitive="true" />
-                    </and>
-                </not>
-            </condition>
-        </fail>
 
         <exec executable="${com.mysql.cj.build.jdk.javac}"
               outputproperty="com.mysql.cj.dist.jdk.compilerVersion"
@@ -1052,6 +1042,7 @@ See also com.mysql.cj.conf.PropertyDefinitions.SYSP_* variables for other test o
                executable="${com.mysql.cj.build.jdk.javac}"
                compiler="modern"
                includeantruntime="false"
+               release="8"
                encoding="UTF-8">
             <include name="**/*.java" />
             <exclude name="testsuite/**" />
-- 
2.51.1

